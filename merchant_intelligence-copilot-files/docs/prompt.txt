TITLE: Upgrade Merchant Intelligence Copilot UI to Hackathon-Ready Product (AWS Native)

PROJECT CONTEXT:
Repo: merchant-intelligence-copilot
Frontend: React + Vite + Tailwind
Backend: AWS-native serverless

Backend execution model:
- Local development: AWS SAM Local (emulates API Gateway → Lambda)
- Production: AWS API Gateway → Lambda (or container behind API Gateway)
No FastAPI / uvicorn / local web server framework is used.

Core API endpoints (same paths in local SAM + production API Gateway):
- GET  /health
- POST /generate-insights
  Payload: { csv_text: string, language?: "en" | "hi" | "mr" }

Optional endpoints (may not exist yet; UI must not crash):
- POST /chat
- GET  /weekly-report

GOAL:
Make the UI interactive, attractive, and judge-ready. Align explicitly with AWS
hackathon expectations by using AWS API Gateway as the production API layer and
AWS SAM Local as the local emulator. The app must work locally (SAM Local) and
switch to AWS API Gateway via environment variables only (no code changes).

────────────────────────────────────────
OBJECTIVES (IMPLEMENT ALL)
────────────────────────────────────────

A) App Shell + Navigation
1) Build a global app layout with modern navigation:
   - Pages/routes:
     Dashboard
     Upload Data
     Copilot Chat
     Weekly Report
     Settings
     About
   - Sidebar on desktop + compact top navigation on mobile
2) Header branding:
   - App name: Merchant Intelligence Copilot
   - Team: Bharat Brain Wave
3) Add a subtle global info banner:
   - “AI‑assisted insights to support smarter business decisions.”
4) Ensure mobile responsiveness, spacing, and polished UI.
5) Add a small API status indicator in the header:
   - Uses GET /health
   - Shows “API Connected” (green) or “API Not Connected” (gray/red)
   - Must not spam requests (cache result for ~30s)

B) GitHub Link (Upper Right) — REQUIRED
1) Add a GitHub icon button in the upper-right of the header.
2) Read repo URL from VITE_GITHUB_URL.
3) Open link in new tab with rel="noreferrer noopener".
4) Tooltip: “View source on GitHub”.
5) Hide icon if VITE_GITHUB_URL is not set.
6) Icon must respect light/dark theme.

C) Theme Toggle (Light / Dark)
1) Add light/dark toggle near GitHub icon.
2) Persist theme in localStorage.
3) Use Tailwind dark-mode class strategy.

D) Upload Data Page (CSV Upload + Validation)
1) Create Upload Data page with:
   - Drag-and-drop CSV area
   - Browse file button
2) Validate:
   - .csv extension
   - Required columns:
     date, product_name, quantity_sold, price, revenue
3) Show:
   - File name and size
   - Preview first 5 rows
4) On “Analyze”:
   - Read CSV client-side
   - Call POST /generate-insights
   - Use language selector (EN/HI/MR)
5) Persist last insights + filename + last selected language in localStorage.
6) Handle errors nicely:
   - Missing columns error
   - Large file warning (non-blocking)
   - API error states

E) Dashboard Upgrade (Judge-Friendly)
Assume /generate-insights returns a JSON containing at least:
- products analyzed (or can be inferred from insights)
- forecast array with yhat (and optionally yhat_lower/yhat_upper)
- confidence scores (0-100) per insight or per product
If response format varies, implement defensive parsing and show fallback UI.

1) KPI cards:
   - Products analyzed
   - Alerts count
   - Average confidence
   - Top reorder item
2) Product selector:
   - Select product to inspect
3) Forecast chart:
   - Use Recharts
   - Plot 7-day forecast (yhat)
   - Confidence band if available (yhat_lower/yhat_upper)
4) Insight cards/table:
   - Confidence badges:
     Green > 80
     Yellow 60–80
     Red < 60
   - Urgency badge (high / medium)
   - Alert chips (spike / drop / slow_moving)
5) “Why?” explainability:
   - Drawer/modal per product showing:
     - Demand reasoning
     - Reorder logic explanation
     - Confidence explanation
   - Language must be merchant-friendly and simple.
6) Add “Demo Mode” fallback:
   - If no insights exist yet, show a friendly empty state with CTA → Upload Data.

F) Copilot Chat Page (API Gateway Ready)
1) Build chat UI:
   - Message list (user / assistant)
   - Input box
   - Language selector (EN / HI / MR)
   - Show confidence (if returned) and a small disclaimer text:
     “AI suggestions are probabilistic. Please verify before acting.”
2) If /chat API is not available:
   - Show “Chat backend not connected yet.”
   - UI must not crash, must still allow typing and show offline placeholder reply.
3) Design chat calls to work via:
   - Local SAM URL OR AWS API Gateway URL (same path)

G) Weekly Report Page
1) Weekly report layout:
   - Top 3 priorities
   - Expected impact
   - Risks / alerts
2) If backend endpoint is unavailable:
   - Generate client-side from latest stored insights
3) Include confidence and explanation notes.
4) Add “Export” button (minimal):
   - Copy report as Markdown to clipboard (no PDF dependency)

H) About Page + Footer
1) About page must explain:
   - MSME problem
   - What the solution does
   - AI usage:
     Forecasting + Amazon Bedrock reasoning
   - Responsible AI:
     Confidence scoring + transparency
   - Hackathon context (AWS AI for Bharat)
2) Footer on all pages:
   - “© 2026 Bharat Brain Wave”
   - “Built for AWS AI for Bharat Hackathon”
   - Optional GitHub link (only if env is set)

I) Environment Configuration (API Gateway Support)
Update frontend .env.example:

- VITE_API_BASE_URL=http://127.0.0.1:3000
- VITE_GITHUB_URL=https://github.com/<username>/<repo>

Notes:
- For local dev with SAM: VITE_API_BASE_URL points to sam local start-api host/port
- For production: VITE_API_BASE_URL points to deployed API Gateway URL (stage included)
- Must not hardcode API URLs in code. Env switch only.

J) README.md Update (MANDATORY)
Update README.md to include:

1) Features list reflecting the upgraded UI
2) Local Run Instructions (PowerShell):
   - Frontend:
     cd frontend
     npm install
     copy .env.example .env
     npm run dev
   - Backend (AWS SAM Local):
     cd backend
     pip install -r requirements.txt (if present)
     sam build
     sam local start-api --port 3000
   - Verify:
     curl http://127.0.0.1:3000/health

3) Production Deploy (AWS):
   - Backend:
     sam deploy --guided
     (document that this provisions API Gateway + Lambda and outputs an ApiUrl)
   - Frontend:
     Deploy to Netlify/Vercel/Static hosting; set VITE_API_BASE_URL to ApiUrl

4) API Architecture Explanation:
   - Local: Frontend → SAM Local (API Gateway emulation) → Lambda
   - Production: Frontend → AWS API Gateway → Lambda (or container)

5) Environment Variables:
   - VITE_API_BASE_URL
   - VITE_GITHUB_URL

6) Security Note:
   - No secrets committed
   - Use AWS IAM roles/permissions for Bedrock access
   - Mention billing safety recommendation (Budgets) and minimal AWS services used

7) 3-minute judge demo walkthrough:
   - Open Live URL
   - Upload CSV → analyze
   - Show dashboard KPIs + chart + “Why?”
   - Show Weekly Report
   - Show Copilot Chat (connected or graceful fallback)
   - Show About page (responsible AI + AWS)

────────────────────────────────────────
CONSTRAINTS
────────────────────────────────────────
- Keep dependencies minimal
- No breaking changes
- Must work with npm run dev
- Must not hardcode API URLs
- Must not crash if /chat or /weekly-report APIs are missing
- Mobile responsive and polished
- Use defensive parsing for backend response differences
- Add loading skeletons and friendly empty/error states

────────────────────────────────────────
ACCEPTANCE CHECKLIST
────────────────────────────────────────
1) npm run dev works (frontend)
2) Header shows theme toggle + GitHub icon (env-driven)
3) API status indicator works via GET /health
4) CSV upload works with validation + preview + analyze
5) Dashboard shows KPIs, charts, badges, and “Why?” drawer
6) Copilot Chat does not crash without /chat
7) Weekly Report works with backend OR client-side fallback
8) About page + footer present
9) README clearly explains Local (SAM) vs AWS API Gateway usage

IMPLEMENT NOW:
Apply all frontend and README changes. Ensure VITE_API_BASE_URL controls all API calls. Keep UI stable and judge-friendly.

OUTPUT REQUIRED:
- List of modified/added files
- Quick verification steps (local SAM + production)
- Screenshots not required, but ensure UI is polished
